<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>zea | zea</title><meta name="author" content="初。"><meta name="copyright" content="初。"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Go学习笔记编译go build 编译当前目录"><meta property="og:type" content="article"><meta property="og:title" content="zea"><meta property="og:url" content="https://blog.48626.xyz/91523a550ca8.html"><meta property="og:site_name" content="zea"><meta property="og:description" content="Go学习笔记编译go build 编译当前目录"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://q1.qlogo.cn/g?b=qq&nk=770600073&s=640"><meta property="article:published_time" content="2024-09-19T06:16:42.468Z"><meta property="article:modified_time" content="2024-09-19T06:16:42.468Z"><meta property="article:author" content="初。"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://q1.qlogo.cn/g?b=qq&nk=770600073&s=640"><link rel="shortcut icon" href="/static/favicon.png"><link rel="canonical" href="https://blog.48626.xyz/91523a550ca8.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""><link rel="preconnect" href="//hm.baidu.com"><link rel="preconnect" href="//www.clarity.ms"><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="IRx06tBaTglUq66WChYv9bkH8lKr7PO60mUioFn--yM"><meta name="bing-site-verification" content="E4B8BD2F04290DD88CD9F8BF5853705F"><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?6558e13fa8bf20edf22ca260ae572e44";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-NRQETXBKL4"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-NRQETXBKL4")</script><script>!function(t,e,n,c,a,i,r){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(i=e.createElement(c)).async=1,i.src="https://www.clarity.ms/tag/n2i82v50oq",(r=e.getElementsByTagName(c)[0]).parentNode.insertBefore(i,r)}(window,document,"clarity","script")</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":true,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 初。","link":"链接: ","source":"来源: zea","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"zea",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2024-09-19 14:16:42"}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="zea" type="application/atom+xml"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://q1.qlogo.cn/g?b=qq&amp;nk=770600073&amp;s=640" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">145</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">47</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">47</div></a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/menu/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/menu/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i> <span>插件</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/menu/plugins/aria2/"><i class="fa-fw fas fa-download"></i> <span>Aria2</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/menu/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="zea"><span class="site-name">zea</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/menu/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/menu/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i> <span>插件</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/menu/plugins/aria2/"><i class="fa-fw fas fa-download"></i> <span>Aria2</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/menu/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">无题</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-09-19T06:16:42.468Z" title="发表于 2024-09-19 14:16:42">2024-09-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-09-19T06:16:42.468Z" title="更新于 2024-09-19 14:16:42">2024-09-19</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">7.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>31分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="post-content" id="article-container"><h1 id="Go学习笔记"><a href="#Go学习笔记" class="headerlink" title="Go学习笔记"></a>Go学习笔记</h1><h2 id="编译go-build"><a href="#编译go-build" class="headerlink" title="编译go build"></a>编译go build</h2><ol><li>编译当前目录</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go build 或者 go build .</span><br></pre></td></tr></table></figure><ol start="2"><li>编译指定文件或目录</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编译main文件，将会生成可执行文件</span></span><br><span class="line">go build ./mian.go</span><br><span class="line"><span class="comment"># 编译指定文件目录p1（当前文件夹下没有main.go），不会生成编译文件，仅进行编译检查</span></span><br><span class="line">go build ./p1</span><br></pre></td></tr></table></figure><ol start="3"><li>main包有多个文件的情况，指定文件编译main包</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编译时必须指定main包的所有文件</span></span><br><span class="line">go build ./main.go ./hello.go</span><br></pre></td></tr></table></figure><ol start="4"><li>编译时指定编译结果输出</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go build -o ./out/app ./main.go ./hello.go</span><br></pre></td></tr></table></figure><ol start="5"><li>条件编译</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// +build linux,386 darwin,!cgo</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这段代码只会在Linux 386或不使用cgo的Darwin系统上编译</span></span><br></pre></td></tr></table></figure><p>使用build tags编译：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go build -tags <span class="string">&quot;linux,386&quot;</span> main.go</span><br></pre></td></tr></table></figure><ol start="6"><li>编译时优化</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 禁用优化和内联，用于调试</span></span><br><span class="line">go build -gcflags <span class="string">&quot;-N -l&quot;</span> main.go</span><br><span class="line"></span><br><span class="line"><span class="comment"># 编译时去掉调试信息，减小二进制文件大小</span></span><br><span class="line">go build -ldflags <span class="string">&quot;-w -s&quot;</span> main.go</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示编译时间</span></span><br><span class="line">go build -x main.go</span><br></pre></td></tr></table></figure><h3 id="运行-go-run"><a href="#运行-go-run" class="headerlink" title="运行 go run"></a>运行 go run</h3><ol><li>直接通过 go run 运行main包，即可运行应用程序</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 运行应用程序时，指定main包所有文件</span></span><br><span class="line">go run main.go hello.go</span><br><span class="line"><span class="comment"># 运行应用程序时，指定main包所在目录</span></span><br><span class="line">go run .</span><br></pre></td></tr></table></figure><ol start="2"><li>使用go run执行包</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 运行指定包</span></span><br><span class="line">go run github.com/your-username/your-repo</span><br></pre></td></tr></table></figure><ol start="3"><li>使用go run执行远程代码</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go run github.com/user/repo@latest</span><br></pre></td></tr></table></figure><h3 id="交叉编译"><a href="#交叉编译" class="headerlink" title="交叉编译"></a>交叉编译</h3><p>交叉编译需要修改G005、GOARCH、CGO_ENABLED三个环境变量</p><p>GOOS:目标平台的提作系统(darwin、freebsd、linux、windows)</p><p>GOARCH:目标平台的体系架构32位还是64位(386、amd64、arm)</p><p>CGO_ENABLED:是否启用CGO，交叉编译不支持CG0所以要禁用它</p><p>Go支持交叉编译，可以在一个平台上编译其他平台的可执行文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GOOS=linux GOARCH=amd64 go build -o app_linux main.go</span><br><span class="line">GOOS=windows GOARCH=amd64 go build -o app_windows.exe main.go</span><br></pre></td></tr></table></figure><h4 id="win编译liunx-与-mac可执行程序"><a href="#win编译liunx-与-mac可执行程序" class="headerlink" title="win编译liunx 与 mac可执行程序"></a>win编译liunx 与 mac可执行程序</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置环境变量</span></span><br><span class="line"><span class="variable">$Env</span>:CGO_ENABLED=0;<span class="variable">$Env</span>:GOARCH=<span class="string">&quot;amd64&quot;</span>;<span class="variable">$Env</span>:GOOS=<span class="string">&quot;linux&quot;</span></span><br><span class="line"><span class="comment"># 编译，并输出到app文件</span></span><br><span class="line">go build -o ./out/app .</span><br><span class="line"><span class="comment"># 设置环境变量</span></span><br><span class="line"><span class="variable">$Env</span>:CGO_ENABLED=0;<span class="variable">$Env</span>:GOARCH=<span class="string">&quot;amd64&quot;</span>;<span class="variable">$Env</span>:GOOS=<span class="string">&quot;darwin&quot;</span></span><br><span class="line"><span class="comment"># 编译，并输出到app文件</span></span><br><span class="line">go build -o ./out/app .</span><br></pre></td></tr></table></figure><h4 id="Linux编译Windows和macOS可执行程序"><a href="#Linux编译Windows和macOS可执行程序" class="headerlink" title="Linux编译Windows和macOS可执行程序"></a>Linux编译Windows和macOS可执行程序</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编译Windows 64位可执行程序</span></span><br><span class="line">GOOS=windows GOARCH=amd64 CGO_ENABLED=0 go build -o app.exe main.go</span><br><span class="line"></span><br><span class="line"><span class="comment"># 编译macOS 64位可执行程序</span></span><br><span class="line">GOOS=darwin GOARCH=amd64 CGO_ENABLED=0 go build -o app main.go</span><br></pre></td></tr></table></figure><h4 id="macOS编译Windows和Linux可执行程序"><a href="#macOS编译Windows和Linux可执行程序" class="headerlink" title="macOS编译Windows和Linux可执行程序"></a>macOS编译Windows和Linux可执行程序</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编译Windows 64位可执行程序</span></span><br><span class="line">GOOS=windows GOARCH=amd64 CGO_ENABLED=0 go build -o app.exe main.go</span><br><span class="line"></span><br><span class="line"><span class="comment"># 编译Linux 64位可执行程序</span></span><br><span class="line">GOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build -o app main.go</span><br></pre></td></tr></table></figure><h3 id="go-mod-依赖管理"><a href="#go-mod-依赖管理" class="headerlink" title="go mod 依赖管理"></a>go mod 依赖管理</h3><ol><li>讲模块下载到本地缓存，需要指定模块路径及版本号</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go mod download &lt;依赖路径&gt;</span><br></pre></td></tr></table></figure><ol start="2"><li>初始化一个新的模块到当前目录</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go mod init &lt;项目名称&gt;</span><br></pre></td></tr></table></figure><ol start="3"><li>依赖对齐，添加缺少的依赖，删除未使用的依赖</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go mod tidy</span><br></pre></td></tr></table></figure><ol start="4"><li>通过工具或脚本编辑go.mod</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">go mod edit</span><br><span class="line"><span class="comment"># 添加依赖</span></span><br><span class="line">go mod edit -require=<span class="string">&quot;xxx&quot;</span></span><br><span class="line"><span class="comment"># 替换路径，old[@version] 替换成 new[@version]</span></span><br><span class="line">go mod edit -replace=<span class="string">&quot;xxx=xxx&quot;</span></span><br><span class="line"><span class="comment"># 排除第三方依赖的某个版本</span></span><br><span class="line">go mod edit -exclude=<span class="string">&quot;xxx&quot;</span></span><br><span class="line"><span class="comment"># 当前项目作为其他项目的依赖时，添加撤回版本用于排除有问题的版本</span></span><br><span class="line">go mod edit -retract=<span class="string">&quot;v1.0.0&quot;</span></span><br><span class="line"><span class="comment"># 删除撤回版本记录</span></span><br><span class="line">go mod edit -dropretract=<span class="string">&quot;v1.0.0&quot;</span></span><br></pre></td></tr></table></figure><ol start="5"><li>根据go.mod中的依赖项制作vendor副本</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 有了vendor副本，项目将不再依赖本地缓存</span></span><br><span class="line">go mod vendor</span><br><span class="line"><span class="comment"># 验证依赖是否正确</span></span><br><span class="line">go mod verify</span><br></pre></td></tr></table></figure><ol start="6"><li>返回对指定模块的依赖关系最短路径，解释为什么依赖指定包</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go mod why &lt;依赖路径&gt;</span><br></pre></td></tr></table></figure><ol start="7"><li>打印模块依赖图</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go mod graph</span><br></pre></td></tr></table></figure><ol start="8"><li>列出当前模块的所有依赖</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go list -m all</span><br></pre></td></tr></table></figure><h3 id="go-mod文件"><a href="#go-mod文件" class="headerlink" title="go.mod文件"></a>go.mod文件</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 模块名</span></span><br><span class="line">module gomod</span><br><span class="line"><span class="comment">// go sdk 版本</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 当前module（项目）依赖的包</span></span><br><span class="line">require (</span><br><span class="line">	<span class="comment">// dependency latest</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 排除第三方包</span></span><br><span class="line">exclude (</span><br><span class="line">	<span class="comment">// dependency latest</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 修改依赖包的路径或版本</span></span><br><span class="line"><span class="comment">// 依赖包发生迁移</span></span><br><span class="line"><span class="comment">// 原始包无法访问</span></span><br><span class="line"><span class="comment">// 使用本地包替换原始包</span></span><br><span class="line">replace (</span><br><span class="line">	<span class="comment">// source latest =&gt; target latest</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 撤回</span></span><br><span class="line"><span class="comment">// 当前项目作为其他项目的依赖，如果某个版本出现了问题则撤回该项目</span></span><br><span class="line">retract (</span><br><span class="line"> 	v1<span class="number">.0</span><span class="number">.0</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="go-install-get-clean"><a href="#go-install-get-clean" class="headerlink" title="go install&#x2F;get&#x2F;clean"></a>go install&#x2F;get&#x2F;clean</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># go install 安装可执行插件</span></span><br><span class="line">go install github.com/google/gops@latest</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># go get 获取模块信息并更新go.mod文件</span></span><br><span class="line"><span class="comment"># 若本地缓存没有该模块，则下载模块，若有则直接引用</span></span><br><span class="line"><span class="comment"># 获取指定模块及其依赖</span></span><br><span class="line">go get github.com/gin-gonic/gin@v1.9.0</span><br><span class="line"><span class="comment"># 更新指定模块的依赖</span></span><br><span class="line">go get -u github.com/gin-gonic/gin@latest  <span class="comment"># 更新到最新版本</span></span><br><span class="line"><span class="comment"># go get -d: 仅下载依赖，不安装。</span></span><br><span class="line"><span class="comment"># 下载依赖但不安装</span></span><br><span class="line">go get -d github.com/gin-gonic/gin</span><br><span class="line"><span class="comment"># go get -v: 显示详细的下载过程。</span></span><br><span class="line"><span class="comment"># 显示详细的下载过程</span></span><br><span class="line">go get -v github.com/gin-gonic/gin</span><br><span class="line"></span><br><span class="line"><span class="comment"># go clean </span></span><br><span class="line"><span class="comment"># 清理Go的临时文件和缓存。go clean可以帮助您释放磁盘空间，尤其是在进行频繁构建和测试时。</span></span><br><span class="line"><span class="comment"># 清理模块下载的缓存文件</span></span><br><span class="line">go clean -modcache</span><br><span class="line"><span class="comment"># 清理当前模块生成的所有临时文件</span></span><br><span class="line">go clean</span><br><span class="line"><span class="comment"># 清理特定的构建文件</span></span><br><span class="line">go clean -i  <span class="comment"># 清理安装的可执行文件</span></span><br></pre></td></tr></table></figure><h2 id="Go-语言结构与基础语法"><a href="#Go-语言结构与基础语法" class="headerlink" title="Go 语言结构与基础语法"></a>Go 语言结构与基础语法</h2><h3 id="语言结构"><a href="#语言结构" class="headerlink" title="语言结构"></a>语言结构</h3><ol><li><strong>包声明</strong>每个Go源文件必须以<code>package</code>声明开头，表明该文件属于哪个包。</li><li><strong>引入包</strong>使用<code>import</code>关键字引入其他包，可以通过<code>_</code>别名引入包但不调用。</li><li><strong>函数</strong>使用<code>func</code>关键字定义函数，支持多返回值和命名返回参数。</li><li><strong>init函数</strong>每个包可以有一个<code>init</code>函数，程序启动时会自动调用。</li><li><strong>变量</strong>使用<code>var</code>关键字声明变量，支持类型推导和简短声明。</li><li><strong>标识符</strong>标识符是变量、函数、包等的名称，必须以字母或下划线开头，后面可以跟字母、数字或下划线。</li><li><strong>行分隔符</strong>每条语句以分号结束，Go会自动插入分号。</li><li><strong>语句与表达式</strong>语句是执行的指令，表达式是计算得到值的代码。</li><li><strong>注释</strong>单行注释以<code>//</code>开头，多行注释用<code>/* ... */</code>。</li><li><strong>公有成员与私有成员</strong>首字母大写的标识符为公有成员，首字母小写的标识符为私有成员。</li><li><strong>关键字、保留字和预定义标志</strong>Go语言有一系列的关键字和保留字，不能用作标识符。</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 声明包</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="comment">// 引入包</span></span><br><span class="line"><span class="comment">// 引用包时，下划线别名表示只引用不调用</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化函数，golang 每个包的引用会优先调用该函数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;init&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数（main函数为整个程序的入口）</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// 语句或表达式</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">10</span></span><br><span class="line">    fmt.Println(fmt.Sprintf(<span class="string">&quot;打印参数i：%d&quot;</span> , i))</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 单行注释</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    多行注释</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 首字符大写为公有成员，小写为私有成员</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 包名与包引用目录可以不一致（包名和文件夹名可以不同）</span></span><br><span class="line">      </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="引用类型"><a href="#引用类型" class="headerlink" title="引用类型"></a>引用类型</h3><ol><li><strong>切片</strong>动态数组，支持扩展。</li><li><strong>map</strong>键值对集合，支持快速查找。</li><li><strong>channel</strong>用于在goroutine之间传递数据。</li><li><strong>interface</strong>定义方法集，允许不同类型实现相同的接口。</li><li><strong>func</strong>函数类型，可以作为参数或返回值。</li><li><strong>指针类型</strong>存储变量的内存地址，允许直接操作内存。</li></ol><h3 id="关键词和保留词"><a href="#关键词和保留词" class="headerlink" title="关键词和保留词"></a>关键词和保留词</h3><ol><li><strong>break</strong>: 跳出循环或switch语句。</li><li><strong>default</strong>: switch或select的默认选项。</li><li><strong>func</strong>: 定义函数。</li><li><strong>interface</strong>: 声明接口。</li><li><strong>select</strong>: 用于多路选择，监听channel。</li><li><strong>case</strong>: switch或select中的条件。</li><li><strong>defer</strong>: 延迟调用的关键词。</li><li><strong>go</strong>: 启动goroutine的关键词。</li><li><strong>map</strong>: 定义映射类型。</li><li><strong>struct</strong>: 定义结构体类型。</li><li><strong>chan</strong>: 定义通道类型。</li><li><strong>else</strong>: 条件表达式的否则部分。</li><li><strong>goto</strong>: 跳转到标签的位置。</li><li><strong>package</strong>: 声明包名。</li><li><strong>switch</strong>: 流程控制语句。</li><li><strong>const</strong>: 声明常量。</li><li><strong>fallthrough</strong>: 在switch语句中执行下一个case。</li><li><strong>if</strong>: 条件表达式。</li><li><strong>range</strong>: 遍历数组、切片、map等。</li><li><strong>type</strong>: 定义新类型。</li><li><strong>continue</strong>: 跳过当前循环的剩余部分。</li><li><strong>for</strong>: 循环语句。</li><li><strong>import</strong>: 包导入语句。</li><li><strong>return</strong>: 返回语句。</li><li><strong>var</strong>: 变量声明的关键词。</li></ol><h3 id="预定义表示"><a href="#预定义表示" class="headerlink" title="预定义表示"></a>预定义表示</h3><ol><li><strong>append</strong>: 向切片追加元素。</li><li><strong>cap</strong>: 获取数组、切片、通道的容量。</li><li><strong>close</strong>: 关闭通道。</li><li><strong>copy</strong>: 拷贝切片。</li><li><strong>imag</strong>: 返回复数的虚部。</li><li><strong>real</strong>: 返回复数的实部。</li><li><strong>panic</strong>: 抛出异常。</li><li><strong>recover</strong>: 恢复因panic而中断的goroutine。</li><li><strong>iota</strong>: 常量计数器。</li><li><strong>len</strong>: 获取长度。</li><li><strong>make</strong>: 初始化切片、map、channel。</li><li><strong>new</strong>: 创建类型的变量并分配内存。</li><li><strong>nil</strong>: 引用类型的零值。</li><li><strong>false, true</strong>: 布尔类型值。</li><li><strong>print, println</strong>: 打印消息。</li><li>bool,byte,</li><li>complex,complex64,complex128</li><li>float32,float64,</li><li>int,uint,int8,uint8,int16,uint16,int32,uint32,int64,uint64</li><li>string</li><li>uintptr</li></ol><h3 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h3><ol><li><p><strong>错误处理</strong>: Go使用多返回值的方式处理错误，通常返回一个<code>error</code>类型的值。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">result, err := someFunction()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="comment">// 处理错误</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>并发编程</strong>: Go通过goroutines和channels实现并发，goroutines是轻量级线程，channels用于在goroutines之间传递数据。</p></li><li><p><strong>结构体和方法</strong>: 结构体可以定义方法，方法的接收者可以是值类型或指针类型。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="type">string</span></span><br><span class="line">    Age  <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Person)</span></span> Greet() &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Hello, my name is&quot;</span>, p.Name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="数据类型与变量"><a href="#数据类型与变量" class="headerlink" title="数据类型与变量"></a>数据类型与变量</h2><h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><ol><li><strong>基本类型</strong><ol><li>布尔类型: <code>bool</code></li><li>整型: <code>int8</code>, <code>int16</code>, <code>int32</code>, <code>int64</code>, <code>uint8</code>, <code>uint16</code>, <code>uint32</code>, <code>uint64</code>, <code>int</code>, <code>uint</code>, <code>uintptr</code></li><li>浮点型: <code>float32</code>, <code>float64</code></li><li>复数: <code>complex64</code>, <code>complex128</code></li><li>字符串: <code>string</code></li><li>字符: <code>rune</code> (等价于 <code>int32</code>)</li><li>字节: <code>byte</code> (等价于 <code>uint8</code>)</li></ol></li><li><strong>复合类型</strong><ol><li>数组: <code>[n]T</code></li><li>切片: <code>[]T</code></li><li>字典: <code>map[K]V</code></li><li>结构体: <code>struct</code></li><li>指针: <code>*T</code></li><li>函数: <code>func(T1, T2) (R1, R2)</code></li><li>通道: <code>chan T</code></li><li>接口: <code>interface&#123;&#125;</code></li><li>时间类型</li></ol></li></ol><h3 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h3><ol><li><strong>使用 <code>var</code> 关键字声明变量</strong><ol><li><code>var name type = expression</code></li><li><code>var name1, name2 type = expression1, expression2</code></li><li><code>var name1, name2 = expression1, expression2</code> (类型推断)</li></ol></li><li><strong>使用简短声明 <code>:=</code> 声明变量</strong><ol><li><code>name := expression</code></li><li>只能用于函数内部,不能用于全局变量</li></ol></li><li><strong>零值</strong><ol><li>数值类型: <code>0</code></li><li>布尔类型: <code>false</code></li><li>字符串: <code>&quot;&quot;</code></li><li>指针、通道、函数、接口、切片、字典、通道: <code>nil</code></li></ol></li></ol><h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><ol><li><strong>显式类型转换</strong><ol><li><code>T(expression)</code></li><li>只能在两种类型之间有直接关系时使用</li></ol></li><li><strong>字符串和数值类型转换</strong><ol><li><code>strconv.Itoa(int)</code></li><li>将整数转换为字符串</li><li><code>strconv.Atoi(string)</code> 将字符串转换为整数</li><li><code>strconv.FormatInt(int64, base)</code> 将整数转换为字符串</li><li><code>strconv.ParseInt(string, base, bitSize)</code> 将字符串转换为整数</li></ol></li><li><strong>字符串和字节&#x2F;rune切片转换</strong><ol><li><code>[]byte(string)</code> 将字符串转换为字节切片</li><li><code>[]rune(string)</code> 将字符串转换为rune切片</li><li><code>string([]byte)</code> 将字节切片转换为字符串</li><li><code>string([]rune)</code> 将rune切片转换为字符串</li></ol></li><li><strong>接口类型转换</strong><ol><li><code>value, ok := interface&#123;&#125;.(T)</code> 类型断言</li><li><code>value := interface&#123;&#125;.(T)</code> 类型断言,如果失败会panic</li></ol></li></ol><h3 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h3><ol><li><strong>指针声明</strong><ol><li><code>var p *T</code></li><li><code>p := &amp;v</code> 取变量v的地址</li></ol></li><li><strong>指针运算</strong><ol><li><code>*p</code> 解引用,获取指针指向的值</li><li><code>p++</code> 递增指针,指向下一个元素</li></ol></li><li><strong><code>unsafe.Pointer</code></strong><ol><li>通用指针类型,可以转换为任意指针类型</li><li>不能进行指针运算</li></ol></li><li><strong><code>uintptr</code></strong><ol><li>可以进行指针运算的整数类型</li><li>可以与<code>unsafe.Pointer</code>相互转换</li></ol></li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> _case</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;strconv&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 变量==========================================================</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">VarDeclareCase</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 通过 var 关键词声明类型</span></span><br><span class="line">    <span class="keyword">var</span> i <span class="type">int</span></span><br><span class="line">    <span class="comment">// 通过var关键词声明变量，并赋值</span></span><br><span class="line">    <span class="keyword">var</span> j <span class="type">int</span> = <span class="number">100</span></span><br><span class="line">    <span class="keyword">var</span> f <span class="type">float32</span> = <span class="number">100.123</span></span><br><span class="line">    <span class="keyword">var</span> x,y,z <span class="type">int</span> = <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span></span><br><span class="line">    <span class="comment">// 通过:= 以推断的方式定义变量并赋值，此方式只能用于局部变量的定义</span></span><br><span class="line">    b:= <span class="literal">true</span></span><br><span class="line">    <span class="comment">// 数组</span></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">5</span>]<span class="type">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">    arr1 := [...]<span class="type">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">    <span class="keyword">var</span> arr2 [<span class="number">5</span>]<span class="type">int</span></span><br><span class="line">    arr2[<span class="number">2</span>] = <span class="number">4</span></span><br><span class="line">    arr2[<span class="number">3</span>] = <span class="number">5</span></span><br><span class="line">    <span class="comment">// ...打印，过编</span></span><br><span class="line">    fmt.Println(i,j,f,x,y,z,b,arr,arr1,arr2)</span><br><span class="line">    <span class="comment">//指针类型，用于表示变量地址的类型</span></span><br><span class="line">    <span class="keyword">var</span> intPtr *<span class="type">int</span></span><br><span class="line">    <span class="keyword">var</span> i1 = <span class="number">100</span></span><br><span class="line">    f1(i1)</span><br><span class="line">    <span class="keyword">var</span> i2 = <span class="number">100</span></span><br><span class="line">    f1(&amp;i2)</span><br><span class="line">    fmt.Println(intPtr,i1,i2)</span><br><span class="line">    <span class="keyword">var</span> floatPtr *<span class="type">float64</span></span><br><span class="line">    fmt.Println(floatPtr)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 接口类型</span></span><br><span class="line">    <span class="keyword">var</span> inter <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">    fmt.Println(inter)</span><br><span class="line">    inter = i1</span><br><span class="line">    fmt.Println(inter)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f1</span><span class="params">(i <span class="type">int</span>)</span></span>&#123;</span><br><span class="line">    i = i + <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f2</span><span class="params">(i *<span class="type">int</span>)</span></span>&#123;</span><br><span class="line">    *i = *i + <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 常量和枚举==========================================================</span></span><br><span class="line"><span class="comment">// 枚举</span></span><br><span class="line"><span class="keyword">type</span> Gender <span class="type">uint</span></span><br><span class="line"></span><br><span class="line">cast (</span><br><span class="line">	FEMALE Gender = <span class="literal">iota</span></span><br><span class="line">    MALE</span><br><span class="line">    THIRD</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">cast (</span><br><span class="line">	B = <span class="number">1</span> &lt;&lt; (<span class="number">10</span> * <span class="literal">iota</span>)</span><br><span class="line">    KB</span><br><span class="line">    MB</span><br><span class="line">    GB <span class="comment">// 如果不想引用GB 用 _ 替代，保持顺序</span></span><br><span class="line">    TB</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 常量和枚举</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ConstAndEnumCase</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">const</span>(</span><br><span class="line">    A = <span class="number">10</span></span><br><span class="line">    B = <span class="number">20</span></span><br><span class="line">    )</span><br><span class="line">    fmt.Println(A,B)</span><br><span class="line">    <span class="keyword">var</span> gander Gender = MALE</span><br><span class="line">    fmt.Println(gander)</span><br><span class="line">    size := MB</span><br><span class="line">    fmt.Println(size)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 结构体==========================================================</span></span><br><span class="line"><span class="comment">// 结构体</span></span><br><span class="line"><span class="keyword">type</span> user <span class="keyword">struct</span>&#123;</span><br><span class="line">    Name <span class="type">string</span></span><br><span class="line">    Age <span class="type">uint</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">StructCase</span><span class="params">()</span></span>&#123;</span><br><span class="line">    u := user&#123;</span><br><span class="line">        Name: <span class="string">&quot;nick&quot;</span>,</span><br><span class="line">        Age: <span class="number">18</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    f3(u)</span><br><span class="line">    fmt.Println(u)</span><br><span class="line">    f4(&amp;u)</span><br><span class="line">    fmt.Println(u)</span><br><span class="line">    <span class="comment">// 指针类型</span></span><br><span class="line">    u1 := &amp;user&#123;</span><br><span class="line">        Name: <span class="string">&quot;nick&quot;</span>,</span><br><span class="line">        Age: <span class="number">18</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 指针类型</span></span><br><span class="line">    u2 := <span class="built_in">new</span>(user)</span><br><span class="line">    u2.Name = <span class="string">&quot;nick&quot;</span></span><br><span class="line">    u2.Age = <span class="number">18</span></span><br><span class="line">    fmt.Println(u2)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 值类型可以不做初始化，指针类型必须要做初始化否则会空指针异常</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f3</span><span class="params">(u user)</span></span>&#123;</span><br><span class="line">    u.Age = <span class="number">28</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f4</span><span class="params">(u *user)</span></span>&#123;</span><br><span class="line">    u.Age = <span class="number">28</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// new和make==========================================================</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewCase</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// 通过new函数，可以创建任意类型，并返回指针</span></span><br><span class="line">    mpPtr := <span class="built_in">new</span>(<span class="keyword">map</span>[<span class="type">string</span>]*user)</span><br><span class="line">    <span class="keyword">if</span> *mpPtr == <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="literal">true</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// (*mpPtr)[&quot;A&quot;] = &amp;user&#123;&#125;</span></span><br><span class="line">    slicePtr := <span class="built_in">new</span>([]user)</span><br><span class="line">    <span class="keyword">if</span> *slicePtr == <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="literal">true</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    *slicePtr = <span class="built_in">append</span>(*slicePtr,user&#123;Name: <span class="string">&quot;nick&quot;</span>&#125;)</span><br><span class="line">    fmt.Println(mpPtr,slicePtr)</span><br><span class="line">    </span><br><span class="line">    strPtr := <span class="built_in">new</span>(<span class="type">string</span>)</span><br><span class="line">    fmt.Println(strPtr)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// make 仅用于 切片、集合、通道的初始化</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">MakeCase</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// 初始化切片，别设置长度和容量</span></span><br><span class="line">    slice := <span class="built_in">make</span>([]<span class="type">int</span>,<span class="number">10</span>,<span class="number">20</span>)</span><br><span class="line">    slice[<span class="number">0</span>] = <span class="number">10</span></span><br><span class="line">    <span class="comment">// 初始化集合，并设置集合的初始大小</span></span><br><span class="line">    mp := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>,<span class="number">10</span>)</span><br><span class="line">    mp[<span class="string">&quot;A&quot;</span>] = <span class="string">&quot;a&quot;</span></span><br><span class="line">    <span class="comment">// 初始化通道，设置通道的读写方向和缓存大小</span></span><br><span class="line">    ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>,<span class="number">10</span>)</span><br><span class="line">    <span class="comment">// 只写</span></span><br><span class="line">    ch1 := <span class="built_in">make</span>(<span class="keyword">chan</span>&lt;- <span class="type">int</span>,<span class="number">10</span>)</span><br><span class="line">    <span class="comment">// 只读</span></span><br><span class="line">    ch1 := <span class="built_in">make</span>(&lt;-<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">    fmt.Println(slice,mp,ch,ch1,ch2)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SliceAndMapCase</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// 定义切片</span></span><br><span class="line">    <span class="keyword">var</span> slice []<span class="type">int</span></span><br><span class="line">    slice = []<span class="type">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;</span><br><span class="line">    slice1 := <span class="built_in">make</span>([]<span class="type">int</span>,<span class="number">10</span>)</span><br><span class="line">    slice1[<span class="number">1</span>] = <span class="number">10</span></span><br><span class="line">    fmt.Println(slice,slice1)</span><br><span class="line">    <span class="comment">// 切片的截取</span></span><br><span class="line">    slice2 := <span class="built_in">make</span>([]<span class="type">int</span>,<span class="number">5</span>,<span class="number">10</span>)</span><br><span class="line">    fmt.Println(<span class="built_in">len</span>(slice2),<span class="built_in">cap</span>(slice2))</span><br><span class="line">    slice2[<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">    slice2[<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">    slice2[<span class="number">2</span>] = <span class="number">2</span></span><br><span class="line">    slice2[<span class="number">3</span>] = <span class="number">3</span></span><br><span class="line">    slice2[<span class="number">4</span>] = <span class="number">4</span></span><br><span class="line">    slice3 := slice2[<span class="number">0</span>:<span class="number">5</span>]</span><br><span class="line">    fmt.Println(<span class="built_in">len</span>(slice3),<span class="built_in">cap</span>(slice3),slice3)</span><br><span class="line">    slice4 := slice2[<span class="number">2</span>:<span class="number">5</span>]</span><br><span class="line">    fmt.Println(<span class="built_in">len</span>(slice4),<span class="built_in">cap</span>(slice4),slice4)</span><br><span class="line">    slice5 := slice2[<span class="number">1</span>:<span class="number">8</span>]</span><br><span class="line">    fmt.Println(<span class="built_in">len</span>(slice5),<span class="built_in">cap</span>(slice5),slice5)</span><br><span class="line">    slice6 := slice2[<span class="number">1</span>:<span class="number">10</span>]</span><br><span class="line">    fmt.Println(<span class="built_in">len</span>(slice6),<span class="built_in">cap</span>(slice6),slice6)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 切片的附加</span></span><br><span class="line">    slice6 = <span class="built_in">append</span>(slice3,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line">    fmt.Println(<span class="built_in">len</span>(slice6),<span class="built_in">cap</span>(slice6),slice6)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 集合，无序</span></span><br><span class="line">    mp := <span class="built_in">make</span>(mapp[<span class="type">string</span>]<span class="type">string</span>, <span class="number">10</span>)</span><br><span class="line">    mp[<span class="string">&quot;A&quot;</span>] = <span class="string">&quot;a&quot;</span></span><br><span class="line">    mp[<span class="string">&quot;B&quot;</span>] = <span class="string">&quot;b&quot;</span></span><br><span class="line">    mp[<span class="string">&quot;C&quot;</span>] = <span class="string">&quot;c&quot;</span></span><br><span class="line">    mp[<span class="string">&quot;D&quot;</span>] = <span class="string">&quot;d&quot;</span></span><br><span class="line">    fmt.Println(mp)</span><br><span class="line">    <span class="comment">// 无序</span></span><br><span class="line">    <span class="keyword">for</span> k, v := <span class="keyword">range</span> mp&#123;</span><br><span class="line">        fmt.Println(k,v)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 删除集合元素</span></span><br><span class="line">    <span class="built_in">delete</span>(mp,<span class="string">&quot;B&quot;</span>)</span><br><span class="line">    fmt.Println(mp)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 转换类型与时间类型==========================================================</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ConvertCase</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// 同一类数据转换 数字和数字、字符串和字符和字节</span></span><br><span class="line">    <span class="comment">// 不同类型的数据转换</span></span><br><span class="line">    <span class="comment">// 接口类型转其他类型</span></span><br><span class="line">    <span class="comment">// 数字类型的转换</span></span><br><span class="line">    <span class="keyword">var</span> num1 <span class="type">int</span> = <span class="number">100</span></span><br><span class="line">    fmt.Println(<span class="type">int64</span>(num1))</span><br><span class="line">    <span class="keyword">var</span> num2 <span class="type">int64</span> = <span class="number">100</span></span><br><span class="line">    fmt.Println(<span class="type">int</span>(num2))</span><br><span class="line">    <span class="comment">// 字符串与数字类型转换</span></span><br><span class="line">    <span class="keyword">var</span> num3 = <span class="number">100</span></span><br><span class="line">    fmt.Println(strconv.Itoa(num3) + <span class="string">&quot;abc&quot;</span>)</span><br><span class="line">    <span class="keyword">var</span> str1 = <span class="string">&quot;100&quot;</span></span><br><span class="line">    fmt.Println(strconv.Atoi(str1))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> num4 <span class="type">int64</span> = <span class="number">1010</span></span><br><span class="line">    fmt.Println(strconv.FormatInt(num4,<span class="number">10</span>))</span><br><span class="line">    fmt.Println(strconv.FormatInt(num4,<span class="number">16</span>))</span><br><span class="line">    <span class="keyword">var</span> str2 = <span class="string">&quot;1010&quot;</span></span><br><span class="line">    fmt.Println(strconv.ParseInt(str2,<span class="number">10</span>,<span class="number">64</span>))</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 字符串与[]byte 转换</span></span><br><span class="line">    <span class="keyword">var</span> str3 = <span class="string">&quot;今天天气好&quot;</span></span><br><span class="line">    bytes1 := []<span class="type">byte</span>(str3)</span><br><span class="line">    fmt.Println([]<span class="type">byte</span>(str3))</span><br><span class="line">    fmt.Println(bytes1)</span><br><span class="line">    fmt.<span class="built_in">println</span>(<span class="type">string</span>(bytes1))</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 字符串与rune转换</span></span><br><span class="line">    <span class="comment">// rune 为int32类型</span></span><br><span class="line">    <span class="comment">// 将字符串转换为rune切片，实际上rune切片中存储了字符串的Unicode码表</span></span><br><span class="line">    <span class="keyword">var</span> rune1 = []<span class="type">rune</span>(str3)</span><br><span class="line">    fmt.Println(rune1)</span><br><span class="line">    fmt.Println(<span class="type">string</span>(rune1))</span><br><span class="line">    fmt.Println(<span class="type">string</span>(rune1[<span class="number">3</span>]))</span><br><span class="line">    fmt.Println([]<span class="type">int32</span>(str3))</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 接口类型转具体类型</span></span><br><span class="line">    <span class="keyword">var</span> inf <span class="keyword">interface</span>&#123;&#125; = <span class="number">100</span></span><br><span class="line">    <span class="keyword">var</span> infStruct interfase&#123;&#125; = user&#123;Name:<span class="string">&quot;nick&quot;</span>&#125;</span><br><span class="line">    <span class="comment">// . 断言</span></span><br><span class="line">    i, ok := inf.(<span class="type">int</span>)</span><br><span class="line">    fmt.Println(i,ok)</span><br><span class="line">    u, ok := infStruct.(user)</span><br><span class="line">    fmt.Println(u,ok)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 时间类型转字符串</span></span><br><span class="line">    <span class="comment">// 2006-01-02 15:04:05Z07:00 固定格式 Z07:00 为时区</span></span><br><span class="line">    <span class="keyword">var</span> t time.Time</span><br><span class="line">    t = time.Now()</span><br><span class="line">    timeStr := t.Format(<span class="string">&quot;2006-01-02 15:04:05Z07:00&quot;</span>);</span><br><span class="line">    fmt.Println(timeStr)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 字符串转时间</span></span><br><span class="line">    t2,_ := time.Parse(<span class="string">&quot;2006-01-02 15:04:05Z07:00&quot;</span>, timeStr)</span><br><span class="line">    fmt.Println(t2)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// uintptr </span></span><br><span class="line">    u1 := user&#123;&#125;</span><br><span class="line">    <span class="comment">// unsafe.Pointer 通用指针类型 不能用于计算</span></span><br><span class="line">    uPtr := unsafe.Pointer(&amp;u1)</span><br><span class="line">    namePtr := unsafe.Pointer(<span class="type">uintptr</span>(uPtr) + unsafe.Offsetof(u1.Name))</span><br><span class="line">    *(*<span class="type">string</span>)(namePtr) = <span class="string">&quot;nick&quot;</span></span><br><span class="line">    fmt.Println(u1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="变量作用域与函数"><a href="#变量作用域与函数" class="headerlink" title="变量作用域与函数"></a>变量作用域与函数</h2><h3 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h3><ol><li><strong>局部变量</strong>在函数内部声明的变量只在该函数内有效。局部变量在函数调用结束后被销毁。</li><li><strong>全局变量</strong>在包级别声明的变量可以在包的任何地方访问。全局变量的命名约定：首字母大写为公有变量，首字母小写为私有变量。</li><li><strong>作用域规则</strong>变量的作用域从声明开始，到其所在代码块结束。如果局部变量与全局变量同名，局部变量会隐藏全局变量。</li></ol><h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><ol><li><p><strong>函数定义</strong></p><p>使用<code>func</code>关键字定义函数，可以有多个参数和返回值。返回值可以命名，命名返回值在函数体内可以直接赋值。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SumCase</span><span class="params">(a, b <span class="type">int</span>)</span></span> (sum <span class="type">int</span>, err <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> a &lt;= <span class="number">0</span> &amp;&amp; b &lt;= <span class="number">0</span> &#123;</span><br><span class="line">        err = errors.New(<span class="string">&quot;两数相加不能同时小于0&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    sum = a + b</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>值传递与引用传递</strong></p><p>Go语言使用值传递，即函数参数的值在调用时被复制。如果需要在函数中修改参数的值，可以传递指针。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ReferenceCase</span><span class="params">(a <span class="type">int</span>, b *<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    a += <span class="number">1</span>   <span class="comment">// 修改的是局部变量a</span></span><br><span class="line">    *b += <span class="number">1</span>  <span class="comment">// 修改的是b指向的值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>方法</strong></p><p>方法是与类型关联的函数，可以通过接收者来定义。接收者可以是值类型或指针类型。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="type">string</span></span><br><span class="line">    Age  <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u *User)</span></span> GetName() <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> u.Name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u *User)</span></span> SetAge(age <span class="type">int</span>) &#123;</span><br><span class="line">    u.Age = age</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>返回多个值</strong></p><p>Go语言允许函数返回多个值，常用于返回结果和错误。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SumCase2</span><span class="params">(a, b <span class="type">int</span>)</span></span> (user *User, sum <span class="type">int</span>, err <span class="type">error</span>) &#123;</span><br><span class="line">    user = &amp;User&#123;Name: <span class="string">&quot;nick&quot;</span>, Age: <span class="number">18</span>&#125; <span class="comment">// 需要先初始化user</span></span><br><span class="line">    <span class="keyword">if</span> a &lt;= <span class="number">0</span> &amp;&amp; b &lt;= <span class="number">0</span> &#123;</span><br><span class="line">        err = errors.New(<span class="string">&quot;两数相加不能同时小于0&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    sum = a + b</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>匿名函数</strong></p><p>Go支持匿名函数，可以在定义时立即调用。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gofunc() &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Hello, World!&quot;</span>)</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure></li><li><p><strong>闭包</strong></p><p>闭包是一个函数值，它引用了其外部作用域中的变量。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">closureExample</span><span class="params">()</span></span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    i := <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">        i++</span><br><span class="line">        <span class="keyword">return</span> i</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>延迟调用</strong></p><p>使用<code>defer</code>关键字可以延迟函数的执行，直到外层函数返回时执行。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">DeferExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">defer</span> fmt.Println(<span class="string">&quot;Deferred call&quot;</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;Normal call&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> _case</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;errors&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 形参</span></span><br><span class="line"><span class="comment">// 局部变量</span></span><br><span class="line"><span class="comment">// 全局变量</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数可以有多个形参和多个返回值，返回值也可以和形参一样拥有参数名称</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SumCase</span><span class="params">(a,b <span class="type">int</span>)</span></span> (sum <span class="type">int</span>, err <span class="type">error</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span> a &lt;= <span class="number">0</span> &amp;&amp; b &lt;= <span class="number">0</span>&#123;</span><br><span class="line">        err = errors.New(<span class="string">&quot;两数相加不能同时小于0&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    sum = a + b</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name String</span><br><span class="line">    Age <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SumCase2</span><span class="params">(a, b <span class="type">int</span>)</span></span> (user *User, sum <span class="type">int</span>, err <span class="type">error</span>)&#123;</span><br><span class="line">    <span class="comment">// user 为 nil 会出现异常</span></span><br><span class="line">    user.Name = <span class="string">&quot;nick&quot;</span></span><br><span class="line">    user.Age = <span class="number">18</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> a &lt;= <span class="number">0</span> &amp;&amp; b &lt;= <span class="number">0</span>&#123;</span><br><span class="line">        err = errors.New(<span class="string">&quot;两数相加不能同时小于0&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    sum = a + b</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 值传递与引用传递</span></span><br><span class="line"><span class="comment">// _case.ReferenceCase(a , &amp;b)</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ReferenceCase</span><span class="params">(a <span class="type">int</span>, b *<span class="type">int</span>)</span></span>&#123;</span><br><span class="line">    a += <span class="number">1</span></span><br><span class="line">    *b += <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 全局变量 小写为私有全局 大写为公有全局</span></span><br><span class="line"><span class="keyword">var</span> g <span class="type">int</span></span><br><span class="line"><span class="keyword">var</span> G <span class="type">int</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 变量作用域</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ScopeCase</span><span class="params">(a, b <span class="type">int</span>)</span></span>&#123;</span><br><span class="line">    c := <span class="number">100</span></span><br><span class="line">    g = a + b + c</span><br><span class="line">    G = g</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建新用户</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewUser</span><span class="params">(name <span class="type">string</span>, age <span class="type">int</span>)</span></span> *User &#123;</span><br><span class="line">    <span class="keyword">return</span> &amp;User&#123;Name: name, Age: age&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取用户的名字</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u *User)</span></span> GetName() <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> u.Name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取用户的年龄</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u *User)</span></span> GetAge() <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> u.Age</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 修改用户的年龄</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u *User)</span></span> SetAge(age <span class="type">int</span>) &#123;</span><br><span class="line">    u.Age = age</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="运算符与优先级"><a href="#运算符与优先级" class="headerlink" title="运算符与优先级"></a>运算符与优先级</h2><h3 id="1-算术运算符"><a href="#1-算术运算符" class="headerlink" title="1. 算术运算符"></a>1. 算术运算符</h3><p>除了您已经列出的基本算术运算符，还有一些需要注意的点：</p><ul><li>整数除法会舍去小数部分</li><li><code>++</code> 和 <code>--</code> 是语句，不是表达式，不能用在赋值语句中</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ArithmeticExtraCase</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 整数除法</span></span><br><span class="line">    fmt.Println(<span class="number">5</span> / <span class="number">2</span>)  <span class="comment">// 输出: 2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 浮点数除法</span></span><br><span class="line">    fmt.Println(<span class="number">5.0</span> / <span class="number">2.0</span>)  <span class="comment">// 输出: 2.5</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ++ 和 -- 的使用</span></span><br><span class="line">    x := <span class="number">5</span></span><br><span class="line">    x++</span><br><span class="line">    fmt.Println(x)  <span class="comment">// 输出: 6</span></span><br><span class="line">    <span class="comment">// 以下代码会编译错误</span></span><br><span class="line">    <span class="comment">// y := x++</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-关系运算符"><a href="#2-关系运算符" class="headerlink" title="2. 关系运算符"></a>2. 关系运算符</h3><p>Go语言中的关系运算符可以用于比较不同类型的值，但必须是可比较的类型。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">RelationExtraCase</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 比较不同类型</span></span><br><span class="line">    <span class="keyword">var</span> a <span class="type">int</span> = <span class="number">5</span></span><br><span class="line">    <span class="keyword">var</span> b <span class="type">int64</span> = <span class="number">5</span></span><br><span class="line">    <span class="comment">// fmt.Println(a == b)  // 编译错误：不同类型不能直接比较</span></span><br><span class="line">    fmt.Println(a == <span class="type">int</span>(b))  <span class="comment">// 正确：先进行类型转换</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 比较浮点数</span></span><br><span class="line">    fmt.Println(<span class="number">0.1</span> + <span class="number">0.2</span> == <span class="number">0.3</span>)  <span class="comment">// 输出: false，因为浮点数精度问题</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-逻辑运算符"><a href="#3-逻辑运算符" class="headerlink" title="3. 逻辑运算符"></a>3. 逻辑运算符</h3><p>Go语言的逻辑运算符支持短路求值。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">LogicExtraCase</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 短路求值</span></span><br><span class="line">    a := <span class="literal">false</span></span><br><span class="line">    b := <span class="literal">true</span></span><br><span class="line">    <span class="keyword">if</span> a &amp;&amp; someFunction() &#123;</span><br><span class="line">        <span class="comment">// someFunction 不会被调用，因为 a 已经是 false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> b || someFunction() &#123;</span><br><span class="line">        <span class="comment">// someFunction 不会被调用，因为 b 已经是 true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">someFunction</span><span class="params">()</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;someFunction called&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-位运算符"><a href="#4-位运算符" class="headerlink" title="4. 位运算符"></a>4. 位运算符</h3><p>Go语言的位运算符中，<code>&amp;^</code> 是按位清零运算符，它的行为有些特殊。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BitExtraCase</span><span class="params">()</span></span> &#123;</span><br><span class="line">    a := <span class="number">0</span>b1111</span><br><span class="line">    b := <span class="number">0</span>b1010</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%04b\n&quot;</span>, a &amp;^ b)  <span class="comment">// 输出: 0101</span></span><br><span class="line">    <span class="comment">// a &amp;^ b 等价于 a &amp; (^b)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-赋值运算符"><a href="#5-赋值运算符" class="headerlink" title="5. 赋值运算符"></a>5. 赋值运算符</h3><p>Go语言支持多重赋值，这在交换变量值时特别有用。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">AssignmentExtraCase</span><span class="params">()</span></span> &#123;</span><br><span class="line">    a, b := <span class="number">1</span>, <span class="number">2</span></span><br><span class="line">    fmt.Println(a, b)  <span class="comment">// 输出: 1 2</span></span><br><span class="line">    a, b = b, a</span><br><span class="line">    fmt.Println(a, b)  <span class="comment">// 输出: 2 1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 忽略某些返回值</span></span><br><span class="line">    _, err := someFunction()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="comment">// 处理错误</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-运算符优先级"><a href="#6-运算符优先级" class="headerlink" title="6. 运算符优先级"></a>6. 运算符优先级</h3><p>除了您列出的优先级，还有一些需要注意的点：</p><ul><li>括号 <code>()</code> 可以用来改变运算顺序</li><li>函数调用、数组索引、切片操作的优先级高于其他运算符</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PriorityCase</span><span class="params">()</span></span> &#123;</span><br><span class="line">    a := <span class="number">1</span> + <span class="number">2</span>*<span class="number">3</span>  <span class="comment">// 7</span></span><br><span class="line">    b := (<span class="number">1</span> + <span class="number">2</span>) * <span class="number">3</span>  <span class="comment">// 9</span></span><br><span class="line">    fmt.Println(a, b)</span><br><span class="line"></span><br><span class="line">    arr := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">    fmt.Println(arr[<span class="number">2</span>+<span class="number">2</span>])  <span class="comment">// 输出: 5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-类型断言和类型转换"><a href="#7-类型断言和类型转换" class="headerlink" title="7. 类型断言和类型转换"></a>7. 类型断言和类型转换</h3><p>虽然不是严格意义上的运算符，但类型断言和类型转换在Go中也很重要：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TypeAssertionCase</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> i <span class="keyword">interface</span>&#123;&#125; = <span class="string">&quot;hello&quot;</span></span><br><span class="line"></span><br><span class="line">    s, ok := i.(<span class="type">string</span>)</span><br><span class="line">    fmt.Println(s, ok)  <span class="comment">// 输出: hello true</span></span><br><span class="line"></span><br><span class="line">    f, ok := i.(<span class="type">float64</span>)</span><br><span class="line">    fmt.Println(f, ok)  <span class="comment">// 输出: 0 false</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 类型转换</span></span><br><span class="line">    <span class="keyword">var</span> x <span class="type">int</span> = <span class="number">65</span></span><br><span class="line">    <span class="keyword">var</span> y <span class="type">float64</span> = <span class="type">float64</span>(x)</span><br><span class="line">    <span class="keyword">var</span> z <span class="type">string</span> = <span class="type">string</span>(x)</span><br><span class="line">    fmt.Println(y, z)  <span class="comment">// 输出: 65 A</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> _case</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 算数运算符</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ArithmeticCase</span><span class="params">()</span></span>&#123;</span><br><span class="line">    a := <span class="number">21</span></span><br><span class="line">    b := <span class="number">10</span></span><br><span class="line">    <span class="keyword">var</span> c <span class="type">int</span></span><br><span class="line">    c = a + b</span><br><span class="line">    fmt.Printf(<span class="string">&quot;a + b 的值为 %d \n&quot;</span>, c)</span><br><span class="line">    c = a - b</span><br><span class="line">    fmt.Printf(<span class="string">&quot;a - b 的值为 %d \n&quot;</span>, c)</span><br><span class="line">    c = a * b</span><br><span class="line">    fmt.Printf(<span class="string">&quot;a * b 的值为 %d \n&quot;</span>, c)</span><br><span class="line">    c = a / b</span><br><span class="line">    fmt.Printf(<span class="string">&quot;a / b 的值为 %d \n&quot;</span>, c)</span><br><span class="line">    c = a % b</span><br><span class="line">    fmt.Printf(<span class="string">&quot;a %% b 的值为 %d \n&quot;</span>, c)</span><br><span class="line">    a++</span><br><span class="line">    fmt.Printf(<span class="string">&quot;a++ 的值为 %d \n&quot;</span>, a)</span><br><span class="line">    a--</span><br><span class="line">    fmt.Printf(<span class="string">&quot;a-- 的值为 %d \n&quot;</span>, a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 关系运算</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">RelationCase</span><span class="params">()</span></span>&#123;</span><br><span class="line">    a := <span class="number">21</span></span><br><span class="line">    b := <span class="number">10</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;a == b&quot;</span>,a == b)</span><br><span class="line">    fmt.Println(<span class="string">&quot;a &gt; b&quot;</span>,a &gt; b)</span><br><span class="line">    fmt.Println(<span class="string">&quot;a &lt; b&quot;</span>,a &lt; b)</span><br><span class="line">    fmt.Println(<span class="string">&quot;a &gt;= b&quot;</span>,a &gt;= b)</span><br><span class="line">    fmt.Println(<span class="string">&quot;a &lt;= b&quot;</span>,a &lt;= b)</span><br><span class="line">    fmt.Println(<span class="string">&quot;a != b&quot;</span>,a != b)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 逻辑运算</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">LogicCase</span><span class="params">()</span></span>&#123;</span><br><span class="line">    a := <span class="literal">true</span></span><br><span class="line">    b := <span class="literal">false</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;a &amp;&amp; b&quot;</span>,a &amp;&amp; b)</span><br><span class="line">    fmt.Println(<span class="string">&quot;a || b&quot;</span>,a || b)</span><br><span class="line">    fmt.Println(<span class="string">&quot;!(a &amp;&amp; b)&quot;</span>,!(a &amp;&amp; b))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 位运算</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BitCase</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a unit8 = <span class="number">60</span></span><br><span class="line">    <span class="keyword">var</span> b unit8 = <span class="number">13</span></span><br><span class="line">    <span class="keyword">var</span> c unit8 = <span class="number">0</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;%08b\n&quot;</span>,a)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%08b\n&quot;</span>,b)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%08b\n&quot;</span>,c)</span><br><span class="line">    c = a &amp; b</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%08b\n&quot;</span>,c)</span><br><span class="line">    c = a | b</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%08b\n&quot;</span>,c)</span><br><span class="line">    c = a ^ b</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%08b\n&quot;</span>,c)</span><br><span class="line">    c = a &lt;&lt; <span class="number">2</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;%08b\n&quot;</span>,c)</span><br><span class="line">    c = a &gt;&gt; <span class="number">2</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;%08b\n&quot;</span>,c)</span><br><span class="line">    c = ^a</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%08b\n&quot;</span>,c)</span><br><span class="line">    c = a &amp;^ b</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%08b\n&quot;</span>,c)</span><br><span class="line">    c = a &amp; ^b</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%08b\n&quot;</span>,c)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 赋值运算</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">AssignmentCase</span><span class="params">()</span></span>&#123;</span><br><span class="line">    a := <span class="number">21</span></span><br><span class="line">    <span class="keyword">var</span> c <span class="type">int</span></span><br><span class="line">    c = a</span><br><span class="line">    fmt.Printf(<span class="string">&quot;c = a 的值为 %d \n&quot;</span>, c)</span><br><span class="line">    c += a</span><br><span class="line">    fmt.Printf(<span class="string">&quot;c += a 的值为 %d \n&quot;</span>, c)</span><br><span class="line">    c -= a</span><br><span class="line">    fmt.Printf(<span class="string">&quot;c -= a 的值为 %d \n&quot;</span>, c)</span><br><span class="line">    c *= a</span><br><span class="line">    fmt.Printf(<span class="string">&quot;c *= a 的值为 %d \n&quot;</span>, c)</span><br><span class="line">    c /= a</span><br><span class="line">    fmt.Printf(<span class="string">&quot;c /= a 的值为 %d \n&quot;</span>, c)</span><br><span class="line">    c %= a</span><br><span class="line">    fmt.Printf(<span class="string">&quot;c %= a 的值为 %d \n&quot;</span>, c)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> b <span class="type">uint8</span> = <span class="number">60</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;b 的值为 %d,二进制表示：%08b\n&quot;</span>, b,b)</span><br><span class="line">    b &lt;&lt;= <span class="number">2</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;b &lt;&lt;= 2 的值为 %d,二进制表示：%08b\n&quot;</span>, b,b)</span><br><span class="line">    b &gt;&gt;= <span class="number">2</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;b &gt;&gt;= 2 的值为 %d,二进制表示：%08b\n&quot;</span>, b,b)</span><br><span class="line">    b &amp;= <span class="number">2</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;b &amp;= 2 的值为 %d,二进制表示：%08b\n&quot;</span>, b,b)</span><br><span class="line">    b ^= <span class="number">2</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;b ^= 2 的值为 %d,二进制表示：%08b\n&quot;</span>, b,b)</span><br><span class="line">    b |= <span class="number">2</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;b |= 2 的值为 %d,二进制表示：%08b\n&quot;</span>, b,b)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 运算符优先级</span></span><br><span class="line"><span class="comment">// 1. 一元运算符优先级最高，例如：++ -- ! ^</span></span><br><span class="line"><span class="comment">// 2. 二元运算符优先级从高到低</span></span><br><span class="line"><span class="comment">// *	/	%	&lt;&lt;	&gt;&gt;	&amp;	&amp;^</span></span><br><span class="line"><span class="comment">// +	-	|	^</span></span><br><span class="line"><span class="comment">// ==	!=	&lt;	&lt;=	&gt;	&gt;=</span></span><br><span class="line"><span class="comment">// &amp;&amp;</span></span><br><span class="line"><span class="comment">// ||</span></span><br></pre></td></tr></table></figure><h2 id="Golang-流程控制"><a href="#Golang-流程控制" class="headerlink" title="Golang 流程控制"></a>Golang 流程控制</h2><h3 id="1-if-语句的简短语法"><a href="#1-if-语句的简短语法" class="headerlink" title="1. if 语句的简短语法"></a>1. if 语句的简短语法</h3><p>Go允许在if语句中执行一个简单的语句，然后再进行条件判断。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ifShortStatement</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> x := computeValue(); x &gt; <span class="number">10</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;x is greater than 10&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;x is less than or equal to 10&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// x 的作用域仅限于if-else块内</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">computeValue</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-switch-语句的特殊用法"><a href="#2-switch-语句的特殊用法" class="headerlink" title="2. switch 语句的特殊用法"></a>2. switch 语句的特殊用法</h3><p>Go的switch语句比其他语言更灵活。可以使用表达式，也可以省略表达式。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">switchExtraCase</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 省略表达式的switch，等同于switch true</span></span><br><span class="line">    <span class="keyword">switch</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> time.Now().Hour() &lt; <span class="number">12</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;Good morning!&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> time.Now().Hour() &lt; <span class="number">17</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;Good afternoon!&quot;</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;Good evening!&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 多条件case</span></span><br><span class="line">    <span class="keyword">switch</span> num := <span class="number">15</span>; &#123;</span><br><span class="line">    <span class="keyword">case</span> num &lt; <span class="number">50</span> &amp;&amp; num &gt; <span class="number">10</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;Number is between 10 and 50&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> num &lt; <span class="number">100</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;Number is less than 100&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-for-循环的变体"><a href="#3-for-循环的变体" class="headerlink" title="3. for 循环的变体"></a>3. for 循环的变体</h3><p>Go只有for循环，但它可以模拟其他语言的while和do-while循环。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">forVariants</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 无限循环</span></span><br><span class="line">    count := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;Infinite loop&quot;</span>)</span><br><span class="line">        count++</span><br><span class="line">        <span class="keyword">if</span> count == <span class="number">3</span> &#123;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 类似while的循环</span></span><br><span class="line">    n := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> n &lt; <span class="number">5</span> &#123;</span><br><span class="line">        fmt.Println(n)</span><br><span class="line">        n++</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历通道</span></span><br><span class="line">    ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">3</span>)</span><br><span class="line">    ch &lt;- <span class="number">1</span></span><br><span class="line">    ch &lt;- <span class="number">2</span></span><br><span class="line">    ch &lt;- <span class="number">3</span></span><br><span class="line">    <span class="built_in">close</span>(ch)</span><br><span class="line">    <span class="keyword">for</span> v := <span class="keyword">range</span> ch &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;Channel value:&quot;</span>, v)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-defer-语句"><a href="#4-defer-语句" class="headerlink" title="4. defer 语句"></a>4. defer 语句</h3><p>defer语句用于延迟函数的执行，直到周围的函数返回。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">deferExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">defer</span> fmt.Println(<span class="string">&quot;This will be printed last&quot;</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;This will be printed first&quot;</span>)</span><br><span class="line">    <span class="keyword">defer</span> fmt.Println(<span class="string">&quot;This will be printed second to last&quot;</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;This will be printed second&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-panic-和-recover"><a href="#5-panic-和-recover" class="headerlink" title="5. panic 和 recover"></a>5. panic 和 recover</h3><p>panic用于抛出运行时错误，recover用于捕获panic。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">panicAndRecover</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> r := <span class="built_in">recover</span>(); r != <span class="literal">nil</span> &#123;</span><br><span class="line">            fmt.Println(<span class="string">&quot;Recovered from panic:&quot;</span>, r)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;()</span><br><span class="line"></span><br><span class="line">    <span class="built_in">panic</span>(<span class="string">&quot;Something went wrong!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-select-语句"><a href="#6-select-语句" class="headerlink" title="6. select 语句"></a>6. select 语句</h3><p>select用于多路复用，主要用于通道操作。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">selectExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    ch1 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)</span><br><span class="line">    ch2 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        time.Sleep(<span class="number">1</span> * time.Second)</span><br><span class="line">        ch1 &lt;- <span class="string">&quot;one&quot;</span></span><br><span class="line">    &#125;()</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        time.Sleep(<span class="number">2</span> * time.Second)</span><br><span class="line">        ch2 &lt;- <span class="string">&quot;two&quot;</span></span><br><span class="line">    &#125;()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">2</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">select</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> msg1 := &lt;-ch1:</span><br><span class="line">            fmt.Println(<span class="string">&quot;Received&quot;</span>, msg1)</span><br><span class="line">        <span class="keyword">case</span> msg2 := &lt;-ch2:</span><br><span class="line">            fmt.Println(<span class="string">&quot;Received&quot;</span>, msg2)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> _case</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">FlowControlCase</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ifElseCase(<span class="number">0</span>)</span><br><span class="line">    ifElseCase(<span class="number">1</span>)</span><br><span class="line">    ifElseCase(<span class="number">2</span>)</span><br><span class="line">    forCase()</span><br><span class="line">    switchCase(<span class="string">&quot;A&quot;</span>,<span class="number">1</span>)</span><br><span class="line">    switchCase(<span class="string">&quot;C&quot;</span>,<span class="string">&quot;&quot;</span>)</span><br><span class="line">    gotoCase()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ifElseCase</span><span class="params">(a <span class="type">int</span>)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> a == <span class="number">0</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;if&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> a == <span class="number">1</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;else if&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;else&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">forCase</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">5</span>&#123;</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(<span class="string">&quot;for i&quot;</span>, i)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> i <span class="type">int</span></span><br><span class="line">    <span class="keyword">var</span> b = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">for</span> b &#123;</span><br><span class="line">         fmt.Println(<span class="string">&quot;for b&quot;</span>, i)</span><br><span class="line">        i++</span><br><span class="line">        <span class="keyword">if</span> i &gt;= <span class="number">10</span>&#123;</span><br><span class="line">            b = <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    list := []<span class="type">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">    <span class="keyword">for</span> index,data := <span class="keyword">range</span> list&#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;index,data := range list&quot;</span>, index , data)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    mp := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>&#123;<span class="string">&quot;A&quot;</span>:<span class="string">&quot;a&quot;</span>,<span class="string">&quot;B&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;C&quot;</span>: <span class="string">&quot;c&quot;</span>&#125;</span><br><span class="line">    <span class="keyword">for</span> key,value := <span class="keyword">range</span> mp&#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;key,value := range mp&quot;</span>, key , value)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    str := <span class="string">&quot;hello&quot;</span></span><br><span class="line">    <span class="keyword">for</span> index,char := <span class="keyword">range</span> str&#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;index,char := range str&quot;</span>, index , <span class="type">string</span>(char))</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> j <span class="type">int</span></span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;for&quot;</span>, j)</span><br><span class="line">        j++</span><br><span class="line">        <span class="keyword">if</span> j &gt;= <span class="number">10</span> &#123;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">lab1:</span><br><span class="line">    <span class="keyword">for</span> i: = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="number">2</span>; j++&#123;</span><br><span class="line">            fmt.Println(<span class="string">&quot;for i for j&quot;</span>, i , j)</span><br><span class="line">            <span class="keyword">break</span> lab1 </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">switchCase</span><span class="params">(alpha <span class="type">string</span>, in <span class="keyword">interface</span>&#123;&#125;)</span></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> alpha&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;A&quot;</span>:</span><br><span class="line">        	fmt.Println(<span class="string">&quot;A&quot;</span>)</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;B&quot;</span>:</span><br><span class="line">        	fmt.Println(<span class="string">&quot;B&quot;</span>)</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;C&quot;</span>,<span class="string">&quot;D&quot;</span>:</span><br><span class="line">        	fmt.Println(<span class="string">&quot;C&quot;</span>)</span><br><span class="line">        	<span class="comment">// 只穿透一次</span></span><br><span class="line">        	<span class="keyword">fallthrough</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;E&quot;</span>:</span><br><span class="line">        	fmt.Println(<span class="string">&quot;E&quot;</span>)</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;F&quot;</span>:</span><br><span class="line">        	fmt.Println(<span class="string">&quot;F&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">switch</span> in.(<span class="keyword">type</span>)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">string</span>:</span><br><span class="line">        	fmt.Println(<span class="string">&quot;string&quot;</span>)</span><br><span class="line">        <span class="keyword">case</span> <span class="type">int</span>:</span><br><span class="line">        	fmt.Println(<span class="string">&quot;int&quot;</span>)</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">        	fmt.Println(<span class="string">&quot;default&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">gotoCase</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">0</span></span><br><span class="line">lab1:</span><br><span class="line">    fmt.Println(<span class="string">&quot;goto lab1&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> <span class="number">1</span> := <span class="number">0</span>; i &lt;<span class="number">10</span>; i++ &#123;</span><br><span class="line">        a += i</span><br><span class="line">        <span class="keyword">if</span> a == <span class="number">0</span> &#123;</span><br><span class="line">            a += <span class="number">1</span></span><br><span class="line">            <span class="keyword">goto</span> lab1</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Golang-泛型编程"><a href="#Golang-泛型编程" class="headerlink" title="Golang 泛型编程"></a>Golang 泛型编程</h2></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者:</span> <span class="post-copyright-info"><a href="https://blog.48626.xyz">初。</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接:</span> <span class="post-copyright-info"><a href="https://blog.48626.xyz/91523a550ca8.html">https://blog.48626.xyz/91523a550ca8.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.48626.xyz" target="_blank">zea</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://q1.qlogo.cn/g?b=qq&amp;nk=770600073&amp;s=640" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/27c62a80157e.html" title="外观模式"><div class="cover" style="background:var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">外观模式</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://q1.qlogo.cn/g?b=qq&amp;nk=770600073&amp;s=640" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">初。</div><div class="author-info__description">一个简单的博客</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">145</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">47</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">47</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/isGuard"><i class="fab fa-github"></i><span>Github</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/isGuard" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github" style="color:#24292e"></i></a><a class="social-icon" href="mailto:isguard@outlook.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope" style="color:#24292e"></i></a><a class="social-icon" href="tencent://message/?uin=770600073&amp;Site=&amp;Menu=yes" rel="external nofollow noreferrer" target="_blank" title="QQ"><i class="fab fa-qq" style="color:#24292e"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0"><span class="toc-number">1.</span> <span class="toc-text">Go学习笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E8%AF%91go-build"><span class="toc-number">1.1.</span> <span class="toc-text">编译go build</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C-go-run"><span class="toc-number">1.1.1.</span> <span class="toc-text">运行 go run</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91"><span class="toc-number">1.1.2.</span> <span class="toc-text">交叉编译</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#win%E7%BC%96%E8%AF%91liunx-%E4%B8%8E-mac%E5%8F%AF%E6%89%A7%E8%A1%8C%E7%A8%8B%E5%BA%8F"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">win编译liunx 与 mac可执行程序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Linux%E7%BC%96%E8%AF%91Windows%E5%92%8CmacOS%E5%8F%AF%E6%89%A7%E8%A1%8C%E7%A8%8B%E5%BA%8F"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">Linux编译Windows和macOS可执行程序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#macOS%E7%BC%96%E8%AF%91Windows%E5%92%8CLinux%E5%8F%AF%E6%89%A7%E8%A1%8C%E7%A8%8B%E5%BA%8F"><span class="toc-number">1.1.2.3.</span> <span class="toc-text">macOS编译Windows和Linux可执行程序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#go-mod-%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86"><span class="toc-number">1.1.3.</span> <span class="toc-text">go mod 依赖管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#go-mod%E6%96%87%E4%BB%B6"><span class="toc-number">1.1.4.</span> <span class="toc-text">go.mod文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#go-install-get-clean"><span class="toc-number">1.1.5.</span> <span class="toc-text">go install&#x2F;get&#x2F;clean</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E8%AF%AD%E8%A8%80%E7%BB%93%E6%9E%84%E4%B8%8E%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="toc-number">1.2.</span> <span class="toc-text">Go 语言结构与基础语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E8%A8%80%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.1.</span> <span class="toc-text">语言结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.2.</span> <span class="toc-text">引用类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E8%AF%8D%E5%92%8C%E4%BF%9D%E7%95%99%E8%AF%8D"><span class="toc-number">1.2.3.</span> <span class="toc-text">关键词和保留词</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%84%E5%AE%9A%E4%B9%89%E8%A1%A8%E7%A4%BA"><span class="toc-number">1.2.4.</span> <span class="toc-text">预定义表示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A5%E5%85%85"><span class="toc-number">1.2.5.</span> <span class="toc-text">补充</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%8F%98%E9%87%8F"><span class="toc-number">1.3.</span> <span class="toc-text">数据类型与变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.3.1.</span> <span class="toc-text">数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E"><span class="toc-number">1.3.2.</span> <span class="toc-text">变量声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.3.3.</span> <span class="toc-text">类型转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E9%92%88"><span class="toc-number">1.3.4.</span> <span class="toc-text">指针</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E5%87%BD%E6%95%B0"><span class="toc-number">1.4.</span> <span class="toc-text">变量作用域与函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">1.4.1.</span> <span class="toc-text">变量作用域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">1.4.2.</span> <span class="toc-text">函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">1.5.</span> <span class="toc-text">运算符与优先级</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.5.1.</span> <span class="toc-text">1. 算术运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.5.2.</span> <span class="toc-text">2. 关系运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.5.3.</span> <span class="toc-text">3. 逻辑运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.5.4.</span> <span class="toc-text">4. 位运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.5.5.</span> <span class="toc-text">5. 赋值运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">1.5.6.</span> <span class="toc-text">6. 运算符优先级</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80%E5%92%8C%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.5.7.</span> <span class="toc-text">7. 类型断言和类型转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Golang-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number">1.6.</span> <span class="toc-text">Golang 流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-if-%E8%AF%AD%E5%8F%A5%E7%9A%84%E7%AE%80%E7%9F%AD%E8%AF%AD%E6%B3%95"><span class="toc-number">1.6.1.</span> <span class="toc-text">1. if 语句的简短语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-switch-%E8%AF%AD%E5%8F%A5%E7%9A%84%E7%89%B9%E6%AE%8A%E7%94%A8%E6%B3%95"><span class="toc-number">1.6.2.</span> <span class="toc-text">2. switch 语句的特殊用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-for-%E5%BE%AA%E7%8E%AF%E7%9A%84%E5%8F%98%E4%BD%93"><span class="toc-number">1.6.3.</span> <span class="toc-text">3. for 循环的变体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-defer-%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.6.4.</span> <span class="toc-text">4. defer 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-panic-%E5%92%8C-recover"><span class="toc-number">1.6.5.</span> <span class="toc-text">5. panic 和 recover</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-select-%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.6.6.</span> <span class="toc-text">6. select 语句</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Golang-%E6%B3%9B%E5%9E%8B%E7%BC%96%E7%A8%8B"><span class="toc-number">1.7.</span> <span class="toc-text">Golang 泛型编程</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2016 - 2024 By 初。</div><div class="framework-info"><span>框架</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.8/dist/lazyload.iife.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>