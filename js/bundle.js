function Debouncer(e){this.callback=e,this.ticking=!1}window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,Fluid.utils={listenScroll:function(e){e=new Debouncer(e);return window.addEventListener("scroll",e,!1),e.handleEvent(),e},unlistenScroll:function(e){window.removeEventListener("scroll",e)},scrollToElement:function(e,t){e=jQuery(e).offset();e&&jQuery("html,body").animate({scrollTop:e.top+(t||0),easing:"swing"})},elementInViewport:function(e,t){t=t||1;var n=e.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,e=n.top;return 0<=e&&e<=i*(t+1)||e<=0&&e>=-i*t-n.height},waitElementVisible:function(e,n,t){var i,o,r,c="undefined"!=typeof window,a=c&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent),s="IntersectionObserver"in window;c&&!a?(i="string"==typeof e?document.querySelector(e):e,o=t||2,Fluid.utils.elementInViewport(i,o)?n():s?new IntersectionObserver(function(e,t){e[0].isIntersecting&&(n(),t.disconnect())},{threshold:[0],rootMargin:(window.innerHeight||document.documentElement.clientHeight)+"px"}).observe(i):r=Fluid.utils.listenScroll(function(){Fluid.utils.elementInViewport(i,o)&&(Fluid.utils.unlistenScroll(r),n())})):n()},waitElementLoaded:function(n,i){var e="undefined"!=typeof window,t=e&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent);e&&!t?"MutationObserver"in window?new MutationObserver(function(e,t){document.getElementById(n)&&(i(),t.disconnect())}).observe(document,{childList:!0,subtree:!0}):document.addEventListener("DOMContentLoaded",function(){i()}):i()},createScript:function(e,t){var n=document.createElement("script");n.setAttribute("src",e),n.setAttribute("type","text/javascript"),n.setAttribute("charset","UTF-8"),n.async=!1,"function"==typeof t&&(window.attachEvent?n.onreadystatechange=function(){var e=n.readyState;"loaded"!==e&&"complete"!==e||(n.onreadystatechange=null,t())}:n.onload=t);e=document.getElementsByTagName("script")[0]||document.getElementsByTagName("head")[0]||document.head||document.documentElement;e.parentNode.insertBefore(n,e)},createCssLink:function(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e);e=document.getElementsByTagName("link")[0]||document.getElementsByTagName("head")[0]||document.head||document.documentElement;e.parentNode.insertBefore(t,e)},loadComments:function(e,t){var n=document.querySelector("#comments[lazyload]");n?Fluid.utils.waitElementVisible(e,function(){t(),n.removeAttribute("lazyload")},CONFIG.lazyload.offset_factor):t()}},Debouncer.prototype={constructor:Debouncer,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}};!function(n,o){var e=o.documentElement,r="Fluid_Color_Scheme",a="--color-mode",i="data-user-color-scheme",c="data-default-color-scheme",l="color-toggle-btn",u="color-toggle-icon";function s(t){try{return localStorage.getItem(t)}catch(t){return null}}function d(){var t=getComputedStyle(e).getPropertyValue(a);return"string"==typeof t?t.replace(/["'\s]/g,""):null}function g(){e.setAttribute(i,m()),function(t){try{localStorage.removeItem(t)}catch(t){}}(r)}var f={dark:!0,light:!0};function m(){t="string"==typeof(t=e.getAttribute(c))?t.replace(/["'\s]/g,""):null;if(f[t])return t;if(t=d(),f[t])return t;var t=(new Date).getHours();return 18<=t||0<=t&&t<=6?"dark":"light"}function h(t){t=t||s(r)||m();if(t===m())g();else{if(!f[t])return void g();e.setAttribute(i,t)}!function(e){{var r,t;f[e]&&(r="icon-dark",e&&(r="icon-"+v[e]),(t=o.getElementById(u))?(t.setAttribute("class","iconfont "+r),t.setAttribute("data",v[e])):Fluid.utils.waitElementLoaded(u,function(){var t=o.getElementById(u);t&&(t.setAttribute("class","iconfont "+r),t.setAttribute("data",v[e]))}))}}(t),function(t){n.REMARK42&&n.REMARK42.changeTheme(t);n.CUSDIS&&n.CUSDIS.setTheme(t);var e=o.querySelector("iframe");{var r;e&&(r=n.UtterancesThemeLight,r={type:"set-theme",theme:r="dark"===t?n.UtterancesThemeDark:r},e.contentWindow.postMessage(r,"https://utteranc.es"))}}(t)}var v={dark:"light",light:"dark"};function y(){var t=s(r);if(f[t])t=v[t];else{if(null!==t)return;var e=o.getElementById(u);e&&(t=e.getAttribute("data")),e&&f[t]||(t=v[d()])}return function(t,e){try{localStorage.setItem(t,e)}catch(t){}}(r,t),t}h(),Fluid.utils.waitElementLoaded(l,function(){h();var t=o.getElementById(l);t&&t.addEventListener("click",()=>{h(y())})})}(window,document);!function(){var m=new Date("2016/10/14 00:00:00");function n(){var n=new Date;n.setTime(n.getTime()+250),days=(n-m)/1e3/60/60/24,dnum=Math.floor(days),hours=(n-m)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1===String(hnum).length&&(hnum="0"+hnum),minutes=(n-m)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1===String(mnum).length&&(mnum="0"+mnum),seconds=(n-m)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1===String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="本站安全运行&nbsp"+dnum+"&nbsp天",document.getElementById("times").innerHTML=hnum+"&nbsp小时&nbsp"+mnum+"&nbsp分&nbsp"+snum+"&nbsp秒"}n(),setInterval(n,1e3)}();HTMLElement.prototype.wrap=function(o){this.parentNode.insertBefore(o,this),this.parentNode.removeChild(this),o.appendChild(this)},Fluid.events={registerNavbarEvent:function(){var o=jQuery("#navbar"),e=jQuery("#navbar .dropdown-menu");0<o.offset().top&&(o.removeClass("navbar-dark"),e.removeClass("navbar-dark")),Fluid.utils.listenScroll(function(){o[50<o.offset().top?"addClass":"removeClass"]("top-nav-collapse"),e[50<o.offset().top?"addClass":"removeClass"]("dropdown-collapse"),0<o.offset().top?o.removeClass("navbar-dark"):o.addClass("navbar-dark"),e.removeClass("navbar-dark")}),jQuery("#navbar-toggler-btn").on("click",function(){jQuery(".animated-icon").toggleClass("open"),jQuery("#navbar").toggleClass("navbar-col-show")})},registerParallaxEvent:function(){var n,r=jQuery('#banner[parallax="true"]');0===r.length||0!==(n=jQuery("#board")).length&&Fluid.utils.listenScroll(function(){var o=jQuery(window).scrollTop()/5,e=96+parseInt(n.css("margin-top"),0);r.css({transform:"translate3d(0,"+(o=e<o?e:o)+"px,0)","-webkit-transform":"translate3d(0,"+o+"px,0)","-ms-transform":"translate3d(0,"+o+"px,0)","-o-transform":"translate3d(0,"+o+"px,0)"}),jQuery("#toc")&&jQuery("#toc-ctn").css({"padding-top":o+"px"})})},registerScrollDownArrowEvent:function(){var o=jQuery(".scroll-down-bar");0!==o.length&&o.on("click",function(){Fluid.utils.scrollToElement("#board",-jQuery("#navbar").height())})},registerScrollTopArrowEvent:function(){var e,n,r,o,t,a=jQuery("#scroll-top-button");0===a.length||0!==(e=jQuery("#board")).length&&(r=n=!1,(o=function(){var o=e[0].getClientRects()[0].right,o=document.body.offsetWidth-o;n=50<=o,a.css({bottom:n&&r?"20px":"-60px",right:o-64+"px"})})(),jQuery(window).resize(o),t=e.offset().top,Fluid.utils.listenScroll(function(){var o=document.body.scrollTop+document.documentElement.scrollTop;r=t<=o,a.css({bottom:n&&r?"20px":"-60px"})}),a.on("click",function(){jQuery("body,html").animate({scrollTop:0,easing:"swing"})}))},registerImageLoadedEvent:function(){if("NProgress"in window){var o=document.getElementById("banner");o&&(o=o.style.backgroundImage.match(/\((.*?)\)/)[1].replace(/(['"])/g,""),(e=new Image).onload=function(){window.NProgress&&window.NProgress.inc(.2)},e.src=o,e.complete&&e.onload());var e=jQuery("main img:not([lazyload])"),n=e.length;for(const r of e){const t=r.onload;r.onload=function(){t&&t(),window.NProgress&&window.NProgress.inc(.5/n)},r.complete&&r.onload()}}},billboard:function(){"console"in window&&console.log(`
------------------------------------------------
|                                              |
|     ________  __            _        __      |
|    |_   __  |[  |          (_)      |  ]     |
|      | |_ \\_| | | __   _   __   .--.| |      |
|      |  _|    | |[  | | | [  |/ /'\`\\' |      |
|     _| |_     | | | \\_/ |, | || \\__/  |      |
|    |_____|   [___]'.__.'_/[___]'.__.;__]     |
|                                              |
|           Powered by Hexo x Fluid            |
|         GitHub: https://git.io/JqpVD         |
|                                              |
------------------------------------------------
    `)}};HTMLElement.prototype.wrap=function(t){this.parentNode.insertBefore(t,this),this.parentNode.removeChild(this),t.appendChild(this)},Fluid.plugins={typing:function(t){var o;"Typed"in window&&((o=new window.Typed("#subtitle",{strings:["  ",t+"&nbsp;"],cursorChar:CONFIG.typing.cursorChar,typeSpeed:CONFIG.typing.typeSpeed,loop:CONFIG.typing.loop})).stop(),(t=document.getElementById("subtitle"))&&(t.innerText=""),jQuery(document).ready(function(){jQuery(".typed-cursor").addClass("h2"),o.start()}))},initTocBot:function(){var t,o=jQuery("#toc");0!==o.length&&window.tocbot&&(t=jQuery("#board-ctn").offset().top,window.tocbot.init({tocSelector:"#toc-body",contentSelector:".markdown-body",headingSelector:CONFIG.toc.headingSelector||"h1,h2,h3,h4,h5,h6",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",collapseDepth:CONFIG.toc.collapseDepth||0,scrollSmooth:!0,headingsOffset:-t}),0<jQuery(".toc-list-item").length&&o.css("visibility","visible"))},initFancyBox:function(){$.fancybox&&(jQuery(".markdown-body :not(a) > img, .markdown-body > img").each(function(){var t,o,e,n=jQuery(this),i=n.attr("data-src")||n.attr("src")||"";CONFIG.image_zoom.img_url_replace&&(o=(e=CONFIG.image_zoom.img_url_replace)[0]||"",t=e[1]||"",o&&(i=/^re:/.test(o)?(o=o.replace(/^re:/,""),e=new RegExp(o,"gi"),i.replace(e,t)):i.replace(o,t)));i=n.wrap(`
        <a class="fancybox fancybox.image" href="${i}"
          itemscope itemtype="http://schema.org/ImageObject" itemprop="url"></a>`).parent("a");n.is(".group-image-container img")?i.attr("data-fancybox","group").attr("rel","group"):i.attr("data-fancybox","default").attr("rel","default");n=n.attr("title")||n.attr("alt");n&&(i.append(`<p class="image-caption">${n}</p>`),i.attr("title",n).attr("data-caption",n))}),$.fancybox.defaults.hash=!1,jQuery(".fancybox").fancybox({loop:!0,helpers:{overlay:{locked:!1}}}))},initAnchor:function(){if("anchors"in window){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var t=[];for(const o of(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","))t.push(".markdown-body > "+o);window.anchors.add(t.join(", "))}},initCopyCode:function(){var t,o,e;"ClipboardJS"in window&&(o="",o+='<button class="copy-btn" data-clipboard-snippet="">',o+='<i class="iconfont icon-copy"></i><span>Copy</span>',o+="</button>",(t=jQuery(".markdown-body pre")).each(function(){const t=jQuery(this);0<t.find("code.mermaid").length||0<t.find("span.line").length||t.append('<button class="copy-btn" data-clipboard-snippet=""><i class="iconfont icon-copy"></i><span>Copy</span></button>')}),o=new window.ClipboardJS(".copy-btn",{target:function(t){return t.previousElementSibling}}),jQuery(".copy-btn").addClass(0===(e=t).length||127.5<.213*(e=e.css("background-color").replace(/rgba*\(/,"").replace(")","").split(","))[0]+.715*e[1]+.072*e[2]?"copy-btn-dark":"copy-btn-light"),o.on("success",function(t){t.clearSelection();var o=t.trigger.outerHTML;t.trigger.innerHTML="Success",setTimeout(function(){t.trigger.outerHTML=o},2e3)}))}};!function(){for(const t of document.querySelectorAll("img[lazyload]"))Fluid.utils.waitElementVisible(t,function(){t.removeAttribute("srcset"),t.removeAttribute("lazyload")},CONFIG.lazyload.offset_factor)}(window);!function(){var e=jQuery("#modalSearch"),t="#local-search-input",r="#local-search-result";e.on("show.bs.modal",function(){!function(e,t,r){"use strict";var l=jQuery(t),s=jQuery(r);if(0===l.length)throw Error("No element selected by the searchSelector");if(0===s.length)throw Error("No element selected by the resultSelector");-1===s.attr("class").indexOf("list-group-item")&&s.html('<div class="m-auto text-center"><div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div><br/>Loading...</div>'),$.ajax({url:e,dataType:"xml",success:function(e){var t=jQuery("entry",e).map(function(){return{title:jQuery("title",this).text(),content:jQuery("content",this).text(),url:jQuery("url",this).text()}}).get();-1===s.html().indexOf("list-group-item")&&s.html(""),l.on("input",function(){var e=l.val(),u="",h=e.trim().toLowerCase().split(/[\s-]+/);return s.html(""),e.trim().length<=0?l.removeClass("invalid").removeClass("valid"):(t.forEach(function(e){var r=!0;e.title&&""!==e.title.trim()||(e.title="Untitled");var l,s,t=e.title.trim(),i=t.toLowerCase(),a=e.content.trim().replace(/<[^>]+>/g,""),n=a.toLowerCase(),e=e.url,o=-1,c=-1;""!==n?h.forEach(function(e,t){l=i.indexOf(e),o=n.indexOf(e),l<0&&o<0?r=!1:(o<0&&(o=0),0===t&&(c=o))}):r=!1,r&&(u+="<a href='"+e+"' class='list-group-item list-group-item-action font-weight-bolder search-list-title'>"+t+"</a>",0<=c&&(e=c+80,(e=0===(t=(t=c-20)<0?0:t)?100:e)>a.length&&(e=a.length),s=a.substring(t,e),h.forEach(function(e){var t=new RegExp(e,"gi");s=s.replace(t,'<span class="search-word">'+e+"</span>")}),u+="<p class='search-list-content'>"+s+"...</p>"))}),-1===u.indexOf("list-group-item")?l.addClass("invalid").removeClass("valid"):(l.addClass("valid").removeClass("invalid"),void s.html(u)))})}})}(CONFIG.search_path||"/local-search.xml",t,r)}),e.on("shown.bs.modal",function(){jQuery("#local-search-input").focus()}),e.on("hidden.bs.modal",function(){!function(e,t){"use strict";if(e=jQuery(e),t=jQuery(t),0===e.length)throw Error("No element selected by the searchSelector");if(0===t.length)throw Error("No element selected by the resultSelector");e.val("").removeClass("invalid").removeClass("valid"),t.html("")}(t,r)})}();!function(c,u){function p(a,l){return new Promise(function(o,r){a("get","/classes/Counter?where="+encodeURIComponent(JSON.stringify({target:l}))).then(e=>e.json()).then(({results:e,code:t,error:n})=>{if(401===t)throw n;e&&0<e.length?(e=e[0],o(e)):a("post","/classes/Counter",{target:l,time:0}).then(e=>e.json()).then((e,t)=>{if(t)throw t;o(e)}).catch(e=>{console.error("Failed to create",e),r(e)})}).catch(e=>{console.error("LeanCloud Counter Error:",e),r(e)})})}function h(e){return{method:"PUT",path:`/1.1/classes/Counter/${e}`,body:{time:{__op:"Increment",amount:1}}}}function e(t){var e,o=!0===CONFIG.web_analytics.enable,n=[],r=[],a=u.querySelector("#leancloud-site-pv-container");a&&(e=p(t,"site-pv").then(e=>{o&&r.push(h(e.objectId));var t=u.querySelector("#leancloud-site-pv");t&&(t.innerText=e.time+1,a&&(a.style.display="inline"))}),n.push(e));var l=u.querySelector("#leancloud-site-uv-container");l&&(i=p(t,"site-uv").then(e=>{var t,t=(n="LeanCloud_UV_Flag",!((t=localStorage.getItem(n))&&(new Date).getTime()-parseInt(t,10)<=864e5)&&(localStorage.setItem(n,(new Date).getTime().toString()),!0));t&&o&&r.push(h(e.objectId));var n=u.querySelector("#leancloud-site-uv");n&&(n.innerText=e.time+(t?1:0),l&&(l.style.display="inline"))}),n.push(i));var i,s=u.querySelector("#leancloud-page-views-container");s&&(i=decodeURI(c.location.pathname.replace(/(?<!\/)\/*(index.html)*$/,"/")),i=p(t,i).then(e=>{var t;o&&r.push(h(e.objectId)),!s||(t=u.querySelector("#leancloud-page-views"))&&(t.innerText=(e.time||0)+1,s.style.display="inline")}),n.push(i)),o&&Promise.all(n).then(()=>{var e,o;0<r.length&&(e=t,o=r,new Promise(function(t,n){e("post","/batch",{requests:o}).then(e=>{if((e=e.json()).error)throw e.error;t(e)}).catch(e=>{console.error("Failed to save visitor count",e),n(e)})}))})}var r=CONFIG.web_analytics.leancloud.app_id,a=CONFIG.web_analytics.leancloud.app_key,t=CONFIG.web_analytics.leancloud.server_url;function n(o){e((e,t,n)=>fetch(`${o}/1.1${t}`,{method:e,headers:{"X-LC-Id":r,"X-LC-Key":a,"Content-Type":"application/json"},body:JSON.stringify(n)}))}t="-MdYXbMMI"!==r.slice(-9)?t:`https://${r.slice(0,8).toLowerCase()}.api.lncldglobal.com`;t?n(t):fetch("https://app-router.leancloud.cn/2/route?appId="+r).then(e=>e.json()).then(e=>{e.api_server&&n("https://"+e.api_server)})}(window,document);Fluid.boot={},Fluid.boot.registerEvents=function(){Fluid.events.billboard(),Fluid.events.registerNavbarEvent(),Fluid.events.registerParallaxEvent(),Fluid.events.registerScrollDownArrowEvent(),Fluid.events.registerScrollTopArrowEvent(),Fluid.events.registerImageLoadedEvent()},Fluid.boot.initPlugins=function(){CONFIG.anchorjs.enable&&Fluid.plugins.initAnchor(),CONFIG.toc.enable&&Fluid.plugins.initTocBot(),CONFIG.image_zoom.enable&&Fluid.plugins.initFancyBox(),CONFIG.copy_btn&&Fluid.plugins.initCopyCode()},document.addEventListener("DOMContentLoaded",function(){Fluid.boot.registerEvents(),Fluid.boot.initPlugins()});